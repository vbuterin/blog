

<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<style>
@media (prefers-color-scheme: dark) {
    body {
        background-color: #1c1c1c;
        color: white;
    }
    .markdown-body table tr {
        background-color: #1c1c1c;
    }
    .markdown-body table tr:nth-child(2n) {
        background-color: black;
    }
}
</style>



<link rel="alternate" type="application/rss+xml" href="../../../../feed.xml" title="我在加密世界的一些个人体验">



<link rel="stylesheet" type="text/css" href="../../../../css/common-vendor.b8ecfc406ac0b5f77a26.css">
<link rel="stylesheet" type="text/css" href="../../../../css/fretboard.f32f2a8d5293869f0195.css">
<link rel="stylesheet" type="text/css" href="../../../../css/pretty.0ae3265014f89d9850bf.css">
<link rel="stylesheet" type="text/css" href="../../../../css/pretty-vendor.83ac49e057c3eac4fce3.css">
<link rel="stylesheet" type="text/css" href="../../../../css/global.css">
<link rel="stylesheet" type="text/css" href="../../../../css/misc.css">

<script type="text/x-mathjax-config">
<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\(', '\)']]
  },
  svg: {
    fontCache: 'global',
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async
  src="../../../../scripts/tex-svg.js">
</script>

<style>
</style>

<div id="doc" class="container-fluid markdown-body comment-enabled" data-hard-breaks="true">

<div id="color-mode-switch">
  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
    <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
  </svg>
  <input type="checkbox" id="switch" />
  <label for="switch">Dark Mode Toggle</label>
  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
    <path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
  </svg>
</div>

<script type="text/javascript">
  // Update root html class to set CSS colors
  const toggleDarkMode = () => {
    const root = document.querySelector('html');
    root.classList.toggle('dark');
  }

  // Update local storage value for colorScheme
  const toggleColorScheme = () => {
    const colorScheme = localStorage.getItem('colorScheme');
    if (colorScheme === 'light') localStorage.setItem('colorScheme', 'dark');
    else localStorage.setItem('colorScheme', 'light');
  }

  // Set toggle input handler
  const toggle = document.querySelector('#color-mode-switch input[type="checkbox"]');
  if (toggle) toggle.onclick = () => {
    toggleDarkMode();
    toggleColorScheme();
  }

  // Check for color scheme on init
  const checkColorScheme = () => {
    const colorScheme = localStorage.getItem('colorScheme');
    // Default to light for first view
    if (colorScheme === null || colorScheme === undefined) localStorage.setItem('colorScheme', 'light');
    // If previously saved to dark, toggle switch and update colors
    if (colorScheme === 'dark') {
      toggle.checked = true;
      toggleDarkMode();
    }
  }
  checkColorScheme();
</script>

<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="我在加密世界的一些个人体验" />
<meta name="twitter:image" content="http://vitalik.ca/images/icon.png" />


<br>
<h1 style="margin-bottom:7px"> 我在加密世界的一些个人体验 </h1>
<small style="float:left; color: #888"> 2022 Oct 28 </small>
<small style="float:right; color: #888"><a href="../../../../index.html">See all posts</a></small>
<br> <br> <br>
<title> 我在加密世界的一些个人体验 </title>

<p><em>译者：wonder @ <a href="https://twitter.com/GreenpillCN">GreenPill CN</a></em></p>
<p><em>原文：<a href="https://vitalik.ca/general/2023/02/28/ux.html">Some personal user experiences</a></em></p>
<h1 id="我在加密世界的一些个人体验">我在加密世界的一些个人体验</h1>
<p><strong>2013 年</strong>，我去了<a href="https://archive.org/about/contact.php">旧金山互联网档案馆</a>旁边的一家寿司店，因为我听说它接受比特币支付，我想去试试。在结账的时候，我要求用 BTC 进行支付，我扫描了二维码，然后点击了「发送」。令我惊讶的是，交易并没有成功；看起来交易已经发送出去，但餐厅并没有收到这笔交易。我又试了一次，还是没有成功。我很快就发现了问题所在，原因在于当时我的网络信号不好。我不得不向附近的互联网档案馆走 50 多米，接入了它的 WiFi，才终于将这笔交易发送出去。</p>
<p><strong>经验教训</strong>：互联网不是 100% 可靠的，用户互联网比商家互联网更不可靠。线下支付系统需要具备一些能让客户直接将交易数据传输给商家的功能（例如 NFC、客户出示二维码等等），假如这是传输的最佳方式的话。</p>
<p><strong>2021 年</strong>，在阿根廷的一家咖啡店，我尝试使用加密货币为自己和朋友支付茶水费。店主表示，他们本不接受加密货币支付，只是因为他认出了我。他向我展示了他在加密货币交易所拥有的一个账户，所以我提议用 ETH 进行支付（在拉丁美洲使用加密货币交易所账户作为钱包是一种标准的面对面支付方式）。不凑巧的是，第一笔 0.003 ETH 的交易没有被接收成功，可能是因为它低于交易所 0.01 ETH 的最低存款额要求。于是我又发送了 0.007 ETH，很快，两笔交易都得到了确认。(我并不介意多付 3 倍的钱，就当作是小费吧）。</p>
<p><strong>2022 年</strong>，在另一家店铺，我再次尝试用加密货币支付茶水费。第一笔交易失败了，因为我的手机钱包的默认交易只发送了 21,000 gas，而接收账户是一个智能合约，需要额外 gas 才能处理转账。试图发送的第二笔交易也失败了，因为我的手机钱包的用户界面出现了点小故障，无法向下滑动并编辑「gas 限制」这一字段。</p>
<p><strong>经验教训</strong>：简单实用的用户界面要优于花哨华丽的用户界面。但是，大多数用户甚至不知道「gas 限制」是什么，所以我们的确需要优化默认值。</p>
<p><strong>有很多次</strong>，我的交易被链上接收和系统确认交易之间的延迟出乎意料地久，甚至出现了「未确认」的状态。有时，我的确会担心链上的支付系统是否出现了一些故障。</p>
<p><strong>还有很多次</strong>，发送交易和区块接收交易之间存在延迟，并且这种延迟是不可预测的。有时，一笔交易会在几秒钟内被接收，但更多时候一笔交易需要几分钟甚至几小时才被接收。最近，<a href="https://notes.ethereum.org/@vbuterin/eip-1559-faq">EIP-1559</a> 大大优化了这一点，确保大多数交易被接收到下一个区块中，最近的合并通过稳定区块时间进一步改善了这种情况。</p>
<center>
<p><img src="https://vitalik.ca/images/ux/diagram.png" /></p>
<p><small></p>
<p><em><a href="https://decentralizedthoughts.github.io/2022-03-10-eip1559/">Yinhong (William) Zhao 和 Kartik Nayak 制作的报告</a></em></p>
</small>
</center>
<p><br></p>
<p><strong>但是</strong>，异常值仍然存在。如果同时有许多人正在发送交易，那么基础 gas 费就会飙升，你就会面临基础 gas 费过高和交易不被接收的风险。更糟糕的是，钱包的用户界面对这种情况的提示也不够到位，既没有显眼的红色闪烁警报，也没有清晰的提醒告知用户应该做什么来解决这个问题。即使你是专家，知道在这种情况下，可以通过提高 gas 费并发布一个数据相同的新交易来「加速」交易，但往往找不到可操作的按钮在哪里。</p>
<p><strong>经验教训</strong>：交易相关的用户体验仍需改进，改善方法其实相当简单。感谢 <a href="https://brave.com/wallet/">Brave 钱包</a>团队认真对待了我在这个问题上的建议，首先将<a href="https://github.com/brave/brave-browser/issues/28527">最大基本费用的限制从 12.5% 提高到了 33%</a>；近期，他们还在<a href="https://github.com/brave/brave-browser/issues/28527">探索如何在用户界面清晰地展示「交易被卡住了」这一状态的方法</a>。</p>
<p><strong>2019 年</strong>，我测试了一款早期的钱包，它提供<a href="https://vitalik.ca/general/2021/01/11/recovery.html">社交恢复</a>方案。与我偏爱的智能合约方案不同的是，社交恢复采取了<a href="https://blog.ethereum.org/2014/08/16/secret-sharing-erasure-coding-guide-aspiring-dropbox-decentralizer">沙米尔的秘密分享</a>理念，即将账户的私钥分成五部分，集齐其中任何三个部分都可以恢复私钥。用户需要选择五个朋友（或者是当代术语「<strong>守护人（guardians）</strong>」），说服他们下载一个单独的移动应用程序，并提供一个确认码，通过 <a href="https://firebase.google.com/">Firebase</a> 创建一个从用户钱包到应用程序的加密连接，并将他们拥有的密钥发送给用户。</p>
<p><strong>于我而言，使用这种方法很快就遇到了麻烦</strong>。几个月后，我的钱包出了问题，我需要使用恢复程序来恢复钱包。我请朋友们通过他们的应用程序和我一起执行恢复程序，但事情并没有按计划进行。其中两位朋友丢失了他们的密钥，因为他们换了手机，忘记迁移恢复程序。第三位朋友表示，Firebase 的连接机制在很长一段时间内不起作用。虽然最终我们还是想出了解决问题的办法，并恢复了密钥。但是，几个月之后，钱包又坏了。这一次的问题在于，一次常规的软件更新莫名其妙重置了应用程序的存储，并删除了密钥。由于 Firebase 的连接机制过于垃圾，我无法添加足够的恢复伙伴，最终损失了少量的 BTC 和 ETH。</p>
<p><strong>经验教训</strong>：基于秘密分享的链下社交恢复实在是太脆弱了，在有其他选择的情况下，这绝不是一个好的方法。帮助恢复密钥的守护人不应该下载一个单独的应用程序，因为如果一个应用程序只有「恢复（密钥）」这一种特殊用途，人们很容易忘记和丢失。此外，独立的中心化通信渠道也会带来各种问题。相反，添加守护人的方式应该是提供他们的 ETH 地址，恢复过程应该由智能合约完成，例如使用 <a href="https://eips.ethereum.org/EIPS/eip-4337">ERC-4337</a> 账户抽象钱包。这样一来，守护人只需保证不丢失以太坊钱包即可；出于其他原因，他们也会更加小心翼翼，不让钱包丢失。</p>
<p><strong>2021 年</strong>，我想通过使用 Tornado Cash 的「自我中继」选项来节省费用。Tornado Cash 采用的「中继器」机制是由第三方在链上来推送交易。因为当你取款时，你的取款地址中一般没有代币，并且你不想用你的存款地址来支付交易，因为这样会在两个地址之间形成公开的联系，这正是 Tornado Cash 试图避免的问题。但中继器机制往往很昂贵，中继器收取的百分比费用可能远远超过交易的实际 gas 费。</p>
<p>为了节约成本，有一次，我使用中继器先发起了一笔小额提款，这样收取的费用较低，然后在不使用中继器的情况下，我通过 Tornado Cash 的「自我中继」功能，发送了第二笔大额提款。然后，我搞砸了，我在登录存款地址时不小心进行了这项操作，所以我使用了存款地址而不是提款地址，支付了费用。糟糕！我在两者之间建立了一个公开的联系。</p>
<p><strong>经验教训</strong>：钱包开发者应该开始更明确地考虑隐私问题。此外，我们需要更好的账户抽象形式，以消除对中心化、甚至是联合中继的需求，并使中继角色商品化。</p>
<h2 id="其它事项">其它事项</h2>
<ul>
<li>许多应用程序不兼容 Brave 钱包或 Status 浏览器；这可能是因为他们没有好好地做准备工作，并依赖于 Metamask 独有的 API。甚至在很长一段时间里，Gnosis Safe 也不兼容这些钱包，导致我不得不自己编写迷你 Javascript dapp 来进行确认。幸运的是，最新的 UI 已经修复了这个问题。</li>
<li>在 Etherscan 上的 ERC20 转账页面（例如：<a href="https://etherscan.io/address/0xd8da6bf26964af9d7eed9e03e53415d37aa96045#tokentxns">https://etherscan.io/address/0xd8da6bf26964af9d7eed9e03e53415d37aa96045#tokentxns</a>）非常容易被造假，导致欺诈行为。任何人都可以创建一个新的 ERC20 代币，可以发布一个日志，声称我或某个知名人士向其他人发送了代币。有时，人们会被这种把戏欺骗，认为我为一些骗人的代币站台，而实际上我从未听说过它。</li>
<li>Uniswap 曾经提供了非常便利的功能，能够交换代币并将输出发送到不同的地址。当我身上没有任何 USDC 时，但我需要用 USDC 支付给某人，这个功能十分便利。现在，Uniswap 不提供这个功能了，所以我不得不先完成兑换然后再发送一笔单独的交易，不仅不方便，而且浪费了更多的 gas 费。我后来了解到 Cowswap 和 Paraswap 提供了这个功能，不过 Paraswap......目前似乎不支持 Brave 钱包。</li>
<li>使用<a href="https://login.xyz/">以太坊登录</a>固然不错，但如果你想在多个设备登录，而你的以太坊钱包只能在一个设备上使用的话，这算不上是好用的方式。</li>
</ul>
<h2 id="结论">结论</h2>
<p>良好的用户体验不是在平均情况下的表现，而是如何处理最坏情况。如果用户界面简约整洁，但在 0.723% 的时间里会出现一些奇怪且无法解释的状况，从而导致一些大麻烦，其实比事无巨细的用户界面更糟糕，因为后者至少可以让用户更容易理解发生了什么，并解决出现的问题。</p>
<p>除了扩容导致的高额交易费用这一重要问题尚未完全解决，用户体验也是许多以太坊用户，尤其是南方世界的用户，经常选择中心化解决方案的关键原因；这也阻碍了用户选择将权力掌握在自己、亲友或当地社区手中这一链上去中心化方案。多年来，用户体验已经取得了长足的进步，尤其是 EIP-1559 的采用。在此之前，交易被接收的平均时间是几分钟，而合并之后的平均交易时间只需要几秒钟，这极大提升了使用以太坊的愉悦程度，但以太坊要做的远不止于此。</p>
 </div> 