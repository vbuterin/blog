

<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<style>
@media (prefers-color-scheme: dark) {
    body {
        background-color: #1c1c1c;
        color: white;
    }
    .markdown-body table tr {
        background-color: #1c1c1c;
    }
    .markdown-body table tr:nth-child(2n) {
        background-color: black;
    }
}
</style>



<link rel="alternate" type="application/rss+xml" href="../../../../feed.xml" title="Why Proof of Stake (Nov 2020)">



<link rel="stylesheet" type="text/css" href="../../../../css/common-vendor.b8ecfc406ac0b5f77a26.css">
<link rel="stylesheet" type="text/css" href="../../../../css/fretboard.f32f2a8d5293869f0195.css">
<link rel="stylesheet" type="text/css" href="../../../../css/pretty.0ae3265014f89d9850bf.css">
<link rel="stylesheet" type="text/css" href="../../../../css/pretty-vendor.83ac49e057c3eac4fce3.css">
<link rel="stylesheet" type="text/css" href="../../../../css/global.css">
<link rel="stylesheet" type="text/css" href="../../../../css/misc.css">

<script type="text/x-mathjax-config">
<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\(', '\)']]
  },
  svg: {
    fontCache: 'global',
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async
  src="../../../../scripts/tex-svg.js">
</script>

<style>
</style>

<div id="doc" class="container-fluid markdown-body comment-enabled" data-hard-breaks="true">

<div id="color-mode-switch">
  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
    <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
  </svg>
  <input type="checkbox" id="switch" />
  <label for="switch">Dark Mode Toggle</label>
  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
    <path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
  </svg>
</div>

<script type="text/javascript">
  // Update root html class to set CSS colors
  const toggleDarkMode = () => {
    const root = document.querySelector('html');
    root.classList.toggle('dark');
  }

  // Update local storage value for colorScheme
  const toggleColorScheme = () => {
    const colorScheme = localStorage.getItem('colorScheme');
    if (colorScheme === 'light') localStorage.setItem('colorScheme', 'dark');
    else localStorage.setItem('colorScheme', 'light');
  }

  // Set toggle input handler
  const toggle = document.querySelector('#color-mode-switch input[type="checkbox"]');
  if (toggle) toggle.onclick = () => {
    toggleDarkMode();
    toggleColorScheme();
  }

  // Check for color scheme on init
  const checkColorScheme = () => {
    const colorScheme = localStorage.getItem('colorScheme');
    // Default to light for first view
    if (colorScheme === null || colorScheme === undefined) localStorage.setItem('colorScheme', 'light');
    // If previously saved to dark, toggle switch and update colors
    if (colorScheme === 'dark') {
      toggle.checked = true;
      toggleDarkMode();
    }
  }
  checkColorScheme();
</script>

<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Why Proof of Stake (Nov 2020)" />
<meta name="twitter:image" content="http://vitalik.eth.limo/images/icon.png" />


<br>
<h1 style="margin-bottom:7px"> Why Proof of Stake (Nov 2020) </h1>
<small style="float:left; color: #888"> 2020 Nov 06 </small>
<small style="float:right; color: #888"><a href="../../../../index.html">See all posts</a></small>
<br> <br> <br>
<title> Why Proof of Stake (Nov 2020) </title>

<p>There are three key reasons why PoS is a superior blockchain security
mechanism compared to PoW.</p>
<h2 id="pos-offers-more-security-for-the-same-cost">PoS offers more
security for the same cost</h2>
<p>The easiest way to see this is to put proof of stake and proof of
work side by side, and <strong>look at how much it costs to attack a
network per $1 per day in block rewards</strong>.</p>
<h3 id="gpu-based-proof-of-work">GPU-based proof of work</h3>
<p>You can rent GPUs cheaply, so the cost of attacking the network is
simply the cost of renting enough GPU power to outrun the existing
miners. For every $1 of block rewards, the existing miners should be
spending close to $1 in costs (if they're spending more, miners will
drop out due to being unprofitable, if they're spending less, new miners
can join in and take high profits). Hence, attacking the network just
requires temporarily spending more than $1 per day, and only for a few
hours.</p>
<p><strong>Total cost of attack: ~$0.26</strong> (assuming 6-hour
attack), potentially reduced to zero as the attacker receives block
rewards</p>
<h3 id="asic-based-proof-of-work">ASIC-based proof of work</h3>
<p>ASICs are a capital cost: you buy an ASIC once and you can expect it
to be useful for ~2 years before it wears out and/or is obsoleted by
newer and better hardware. If a chain gets 51% attacked, the community
will likely respond by changing the PoW algorithm and your ASIC will
lose its value. On average, mining is ~1/3 ongoing costs and ~2/3
capital costs (see <a
href="https://eth.wiki/concepts/proof-of-stake-faqs#what-about-capital-lockup-costs">here</a>
for some sources). Hence, per $1 per day in reward, miners will be
spending ~$0.33 per day on electricity+maintenance and ~$0.67 per day on
their ASIC. Assuming an ASIC lasts ~2 years, that's $486.67 that a miner
would need to spend on that quantity of ASIC hardware.</p>
<p><strong>Total cost of attack: $486.67 (ASICs) + $0.08
(electricity+maintenance) = $486.75</strong></p>
<p>That said, it's worth noting that ASICs provide this heightened level
of security against attacks at a high cost of centralization, as the <a
href="https://blog.ethereum.org/2014/06/19/mining/">barriers to entry to
joining become very high</a>.</p>
<h3 id="proof-of-stake">Proof of stake</h3>
<p>Proof of stake is almost entirely capital costs (the coins being
deposited); the only operating costs are the cost of running a node.
Now, how much capital are people willing to lock up to get $1 per day of
rewards? <strong>Unlike ASICs, deposited coins do not depreciate, and
when you're done staking you get your coins back after a short delay.
Hence, participants should be willing to pay much higher capital costs
for the same quantity of rewards</strong>.</p>
<p>Let's assume that a ~15% rate of return is enough to motivate people
to stake (that is the expected eth2 rate of return). Then, $1 per day of
rewards will attract 6.667 years' worth of returns in deposits, or
$2433. Hardware and electricity costs of a node are small; a
thousand-dollar computer can stake for hundreds of thousands of dollars
in deposits, and ~$100 per months in electricity and internet is
sufficient for such an amount. But conservatively, we can say these
ongoing costs are ~10% of the total cost of staking, so we only have
$0.90 per day of rewards that end up corresponding to capital costs, so
we do need to cut the above figure by ~10%.</p>
<p><strong>Total cost of attack: $0.90/day * 6.667 years =
$2189</strong></p>
<p>In the long run, this cost is expected to go even higher, as staking
becomes more efficient and people become comfortable with lower rates of
return. I personally expect this number to eventually rise to something
like $10000.</p>
<p>Note that the only "cost" being incurred to get this high level of
security is just the inconvenience of not being able to move your coins
around at will while you are staking. It may even be the case that the
public knowledge that all these coins are locked up causes the value of
the coin to rise, so the total amount of money floating around in the
community, ready to make productive investments etc, remains the same!
Whereas <strong>in PoW, the "cost" of maintaining consensus is real
electricity being burned in <a
href="https://www.theverge.com/2019/7/4/20682109/bitcoin-energy-consumption-annual-calculation-cambridge-index-cbeci-country-comparison">insanely
large quantities</a>.</strong></p>
<h3 id="higher-security-or-lower-costs">Higher security or lower
costs?</h3>
<p>Note that there are two ways to use this 5-20x gain in
security-per-cost. One is to keep block rewards the same but benefit
from increased security. The other is to massively reduce block rewards
(and hence the "waste" of the consensus mechanism) and keep the security
level the same.</p>
<p>Either way is okay. I personally prefer the latter, because as we
will see below, in proof of stake even a successful attack is much less
harmful and much easier to recover from than an attack on proof of
work!</p>
<h2
id="attacks-are-much-easier-to-recover-from-in-proof-of-stake">Attacks
are much easier to recover from in proof of stake</h2>
<p>In a proof of work system, if your chain gets 51% attacked, what do
you even do? So far, the only response in practice has been "wait it out
until the attacker gets bored". But this misses the possibility of a
much more dangerous kind of attack called a <strong>spawn camping
attack</strong>, where the attacker attacks the chain over and over
again with the explicit goal of rendering it useless.</p>
<p><strong>In a GPU-based system, there is no defense</strong>, and a
persistent attacker may quite easily render a chain permanently useless
(or more realistically, switches to proof of stake or proof of
authority). In fact, after the first few days, the attacker's costs may
become very low, as honest miners will drop out since they have no way
to get rewards while the attack is going on.</p>
<p><strong>In an ASIC-based system, the community can respond to the
first attack, but continuing the attack from there once again becomes
trivial</strong>. The community would meet the first attack by
hard-forking to change the PoW algorithm, thereby "bricking" all ASICs
(the attacker's <em>and</em> honest miners'!). But if the attacker is
willing to suffer that initial expense, after that point the situation
reverts to the GPU case (as there is not enough time to build and
distribute ASICs for the new algorithm), and so from there the attacker
can cheaply continue the spawn camp inevitably.</p>
<p><strong>In the PoS case, however, things are much brighter</strong>.
For certain kinds of 51% attacks (particularly, reverting finalized
blocks), there is a built-in "slashing" mechanism in <a
href="https://arxiv.org/abs/1710.09437">the proof of stake consensus</a>
by which a large portion of the attacker's stake (and no one else's
stake) can get automatically destroyed. For other, harder-to-detect
attacks (notably, a 51% coalition censoring everyone else), the
community can coordinate on a <strong>minority user-activated soft fork
(UASF)</strong> in which the attacker's funds are once again largely
destroyed (in Ethereum, this is done via the "inactivity leak
mechanism"). <strong>No explicit "hard fork to delete coins" is
required; with the exception of the requirement to coordinate on the
UASF to select a minority block, everything else is automated and simply
following the execution of the protocol rules</strong>.</p>
<p>Hence, attacking the chain the first time will cost the attacker many
millions of dollars, and the community will be back on their feet within
days. Attacking the chain the second time will still cost the attacker
many millions of dollars, as they would need to buy new coins to replace
their old coins that were burned. And the third time will... cost even
more millions of dollars. <strong>The game is very asymmetric, and not
in the attacker's favor</strong>.</p>
<h2 id="proof-of-stake-is-more-decentralized-than-asics">Proof of stake
is more decentralized than ASICs</h2>
<p>GPU-based proof of work is reasonably decentralized; it is not too
hard to get a GPU. But GPU-based mining largely fails on the "security
against attacks" criterion that we mentioned above. ASIC-based mining,
on the other hand, requires millions of dollars of capital to get into
(and if you buy an ASIC from someone else, most of the time, the
manufacturing company gets the far better end of the deal).</p>
<p>This is also the correct answer to the common "proof of stake means
the rich get richer" argument: ASIC mining <em>also</em> means the rich
get richer, and that game is <em>even more</em> tilted in favor of the
rich. At least in PoS the minimum needed to stake is quite low and
within reach of many regular people.</p>
<p><strong>Additionally, proof of stake is more censorship
resistant</strong>. GPU mining and ASIC mining are both very easy to
detect: they require huge amounts of electricity consumption, expensive
hardware purchases and large warehouses. PoS staking, on the other hand,
can be done on an unassuming laptop and even over a VPN.</p>
<h2 id="possible-advantages-of-proof-of-work">Possible advantages of
proof of work</h2>
<p>There are two primary genuine advantages of PoW that I see, though I
see these advantages as being fairly limited.</p>
<h3
id="proof-of-stake-is-more-like-a-closed-system-leading-to-higher-wealth-concentration-over-the-long-term">Proof
of stake is more like a "closed system", leading to higher wealth
concentration over the long term</h3>
<p>In proof of stake, if you have some coin you can stake that coin and
get more of that coin. In proof of work, you can always earn more coins,
but you need some outside resource to do so. Hence, one could argue that
over the long term, proof of stake coin distributions risk becoming more
and more concentrated.</p>
<p>The main response to this that I see is simply that in PoS, the
rewards in general (and hence validator revenues) will be quite low; in
eth2, we are expecting annual validator rewards to equal ~0.5-2% of the
total ETH supply. And the more validators are staking, the lower
interest rates get. Hence, it would likely take over a century for the
level of concentration to double, and on such time scales other
pressures (people wanting to spend their money, distributing their money
to charity or among their children, etc.) are likely to dominate.</p>
<h3
id="proof-of-stake-requires-weak-subjectivity-proof-of-work-does-not">Proof
of stake requires "weak subjectivity", proof of work does not</h3>
<p>See <a
href="https://blog.ethereum.org/2014/11/25/proof-stake-learned-love-weak-subjectivity/">here</a>
for the original intro to the concept of "weak subjectivity".
Essentially, the first time a node comes online, and any subsequent time
a node comes online after being offline for a very long duration (ie.
multiple months), that node must find some third-party source to
determine the correct head of the chain. This could be their friend, it
could be exchanges and block explorer sites, the client developers
themselves, or many other actors. PoW does not have this
requirement.</p>
<p>However, arguably this is a very weak requirement; in fact, users
need to trust client developers and/or "the community" to about this
extent already. At the very least, users need to trust someone (usually
client developers) to tell them what the protocol is and what any
updates to the protocol have been. This is unavoidable in any software
application. Hence, the marginal additional trust requirement that PoS
imposes is still quite low.</p>
<p>But even if these risks do turn out to be significant, they seem to
me to be much lower than the immense gains that PoS sytems get from
their far greater efficiency and their better ability to handle and
recover from attacks.</p>
<p><em>See also: my previous pieces on proof of stake.</em></p>
<ul>
<li><a href="https://eth.wiki/concepts/proof-of-stake-faqs">Proof of
Stake FAQ</a></li>
<li><a
href="https://medium.com/@VitalikButerin/a-proof-of-stake-design-philosophy-506585978d51">A
Proof of Stake Design Philosophy</a></li>
</ul>
 </div> 